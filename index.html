<!DOCTYPE html>
<html>

<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-VP91F0ETGP"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-VP91F0ETGP');
	</script>
	<meta charset="utf-8">
	<title>7 Wonders Calculator</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" type="images/x-icon" href="images/favicon.ico" />
	<link rel="stylesheet" href="css/style.css">

	<link rel="manifest" href="manifest.json">
	<link rel="apple-touch-icon" href="images/favicon.ico">
	<meta name="apple-mobile-web-app-status-bar" content="#FFE1C4">
	<meta name="theme-color" content="#FFE1C4">
	<script src="app.js"></script>
</head>

<body>

	<div class="wrapper" style="background-image: url('images/BackGround.svg'); ">
		<div class="inner" align="center" id="Points">
			<form action="">
				<h3>Calculate your points:</h3>
				<div class="form-wrapper">
					<label for="">Points from coins (coins/3):</label>
					<input type="number" class="form-control" id="Coins" value=0 onfocus="this.value=''">
				</div>
				<div class="form-group">
					<div class="form-wrapper">
						<label for="">Military</label>
						<input type="number" class="form-control" id="Military" value=0 onfocus="this.value=''">
					</div>
					<div class="form-wrapper">
						<label for="">Wonders</label>
						<input type="number" class="form-control" id="Wonders" value=0 onfocus="this.value=''">
					</div>
				</div>
				<div class="form-group">
					<div class="form-wrapper">
						<label for="">Blue cards</label>
						<input type="number" class="form-control" id="Blue" value=0 onfocus="this.value=''">
					</div>
					<div class="form-wrapper">
						<label for="">Yellow cards</label>
						<input type="number" class="form-control" id="Yellow" value=0 onfocus="this.value=''">
					</div>
				</div>
				<div class="form-group">
					<div class="form-wrapper">
						<label for="">Guilds</label>
						<input type="number" class="form-control" id="Guilds" value=0 onfocus="this.value=''">
					</div>
					<div class="form-wrapper">
						<label for="">Other</label>
						<input type="number" class="form-control" id="Other" value=0 onfocus="this.value=''">
					</div>
				</div>
				<div class="form-wrapper">
					<label for="" align="center">
						<h4>Science!</h4>
					</label>
				</div>
				<div class="form-group">
					<div class="form-wrapper">
						<label for="">Type A:</label>
						<input type="number" class="form-control" id="Science" value=0 onfocus="this.value=''">

					</div>
					<div class="form-wrapper">
						<label for="">Type B:</label>
						<input type="number" class="form-control" id="Science" value=0 onfocus="this.value=''">
					</div>
					<div class="form-wrapper">
						<label for="">Type C:</label>
						<input type="number" class="form-control" id="Science" value=0 onfocus="this.value=''">
					</div>
				</div>
				<div class="checkbox">
					<label>
						<input type="checkbox" font-family="Muli-Bold" disabled> I accept that I am not an idiot.
						(Optional)
						<span class="checkmark"></span>
					</label>
				</div>
				<div class="form-group">
					<div class="form-wrapper">
						<button id="CalculateButton" onclick="Calculate(); return false;">Calculate</button>
					</div>
					<div class="form-wrapper">
						<button onclick="ResetForm(); return false;">Reset Form</button>
					</div>
				</div>
				<div class="form-wrapper">
					<label for="" align="center">Version 3.4!</label>
				</div>
			</form>
		</div>
	</div>

</body>
<script>

	function Calculate() {
		var text = "";
		var form_inputs = document.getElementsByClassName("form-control");
		var total_points = 0;
		var min_science = 9999;
		for (my_input_field of form_inputs) {
			if (my_input_field.id == "Science") {
				min_science = Math.min(min_science, Number(my_input_field.value));
				total_points = total_points + Math.pow(Number(my_input_field.value), 2);
				text += "\n" + my_input_field.id + ": " + my_input_field.value + "^2";
			} else {
				total_points = total_points + Number(my_input_field.value);
				if (text == "") {
					text += my_input_field.id + ": " + my_input_field.value;
				} else {
					text += "\n" + my_input_field.id + ": " + my_input_field.value;
				}
			}
		}
		total_points = total_points + min_science * 7;
		text += "\nScience combo:" + min_science + "*7";
		text += "\nYou have: " + total_points + " points!"
		alert(text)

		if (navigator.canShare) {
			navigator.share({
				files: [],
				title: 'My Points',
				text: text,
			})
				.then(() => console.log('Share was successful.'))
				.catch((error) => console.log('Sharing failed', error));
		} else {
			console.log(`Your system doesn't support sharing files.`);
		}
		return false;
	}
</script>

</html>